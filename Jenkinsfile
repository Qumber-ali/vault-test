
def secrets = [
  [path: 'secret/jenkins/github', engineVersion: 2, secretValues: [
    [envVar: 'PRIVATE_TOKEN', vaultKey: 'APP_ENV'],[envVar: 'PUBLIC_TOKEN', vaultKey: 'APP_DEBUG'],[envVar: 'API_KEY', vaultKey: 'APP_KEY'],[envVar: 'APP_TIMEZONE',
    vaultKey: 'APP_TIMEZONE'],[envVar: 'APP_URL', vaultKey: 'APP_URL'],[envVar: 'SPEND_PROJECTION_API', vaultKey: 'SPEND_PROJECTION_API'],
    [envVar: 'CUSTOMER_PORTAL_URL', vaultKey: 'CUSTOMER_PORTAL_URL'],[envVar: 'CCP_DESK', vaultKey: 'CCP_DESK'],
    [envVar: 'SPEND_PROJECTION_MACHINE_TOKEN', vaultKey: 'SPEND_PROJECTION_MACHINE_TOKEN'],[envVar: 'SPEND_PROJECTION_KEY', vaultKey: 'SPEND_PROJECTION_KEY'],
    [envVar: 'CUSTOMER_SERVICE_TELEPHONE_NUMBER', vaultKey: 'CUSTOMER_SERVICE_TELEPHONE_NUMBER'],[envVar: 'MGMNT_PORTAL_URL', vaultKey: 'MGMNT_PORTAL_URL'],
    [envVar: 'CUSTOMER_PORTAL_URL', vaultKey: 'CUSTOMER_PORTAL_URL'],[envVar: 'LANG', vaultKey: 'LANG'],[envVar: 'DB_SENSITIVE_CONNECTION', vaultKey: 'DB_SENSITIVE_CONNECTION'],
    [envVar: 'DB_SENSITIVE_HOST', vaultKey: 'DB_SENSITIVE_HOST'],[envVar: 'DB_SENSITIVE_PORT', vaultKey: 'DB_SENSITIVE_PORT'],[envVar: 'DB_SENSITIVE_DATABASE', vaultKey: 'DB_SENSITIVE_DATABASE'],
    [envVar: 'DB_SENSITIVE_USERNAME', vaultKey: 'DB_SENSITIVE_USERNAME'],[envVar: 'DB_SENSITIVE_PASSWORD', vaultKey: 'DB_SENSITIVE_PASSWORD'],[envVar: 'DB_BUSINESS_CONNECTION', vaultKey: 'DB_BUSINESS_CONNECTION'],
    [envVar: 'DB_BUSINESS_HOST', vaultKey: 'DB_BUSINESS_HOST'],[envVar: 'DB_BUSINESS_PORT', vaultKey: 'DB_BUSINESS_PORT'],[envVar: 'DB_BUSINESS_DATABASE', vaultKey: 'DB_BUSINESS_DATABASE'],
    [envVar: 'DB_BUSINESS_USERNAME', vaultKey: 'DB_BUSINESS_USERNAME'],[envVar: 'DB_BUSINESS_PASSWORD', vaultKey: 'DB_BUSINESS_PASSWORD'],
    [envVar: 'DB_CLOUD_CONNECTION', vaultKey: 'DB_CLOUD_CONNECTION'],[envVar: 'DB_CLOUD_HOST', vaultKey: 'DB_CLOUD_HOST'],[envVar: 'DB_CLOUD_PORT', vaultKey: 'DB_CLOUD_PORT'],
    [envVar: 'DB_CLOUD_DATABASE', vaultKey: 'DB_CLOUD_DATABASE'],[envVar: 'DB_CLOUD_USERNAME', vaultKey: 'DB_CLOUD_USERNAME'],[envVar: 'DB_CLOUD_PASSWORD', vaultKey: 'DB_CLOUD_PASSWORD'],
    [envVar: 'DB_REPORTING_CONNECTION', vaultKey: 'DB_REPORTING_CONNECTION'],[envVar: 'DB_REPORTING_HOST', vaultKey: 'DB_REPORTING_HOST'],[envVar: 'DB_REPORTING_PORT', vaultKey: 'DB_REPORTING_PORT'],
    [envVar: 'DB_REPORTING_DATABASE', vaultKey: 'DB_REPORTING_DATABASE'],[envVar: 'DB_REPORTING_USERNAME', vaultKey: 'DB_REPORTING_USERNAME'],[envVar: 'DB_REPORTING_PASSWORD', vaultKey: 'DB_REPORTING_PASSWORD'],
    [envVar: 'DB_AUDIT_CONNECTION', vaultKey: 'DB_AUDIT_CONNECTION'],[envVar: 'DB_AUDIT_HOST', vaultKey: 'DB_AUDIT_HOST'],[envVar: 'DB_AUDIT_PORT', vaultKey: 'DB_AUDIT_PORT'],
    [envVar: 'DB_AUDIT_DATABASE', vaultKey: 'DB_AUDIT_DATABASE'],[envVar: 'DB_AUDIT_USERNAME', vaultKey: 'DB_AUDIT_USERNAME'],[envVar: 'DB_AUDIT_PASSWORD', vaultKey: 'DB_AUDIT_PASSWORD'],
    [envVar: 'DB_BILLING_CONNECTION', vaultKey: 'DB_BILLING_CONNECTION'],[envVar: 'DB_BILLING_HOST', vaultKey: 'DB_BILLING_HOST'],[envVar: 'DB_BILLING_PORT', vaultKey: 'DB_BILLING_PORT'],
    [envVar: 'DB_BILLING_DATABASE', vaultKey: 'DB_BILLING_DATABASE'],[envVar: 'DB_BILLING_USERNAME', vaultKey: 'DB_BILLING_USERNAME'],[envVar: 'DB_BILLING_PASSWORD', vaultKey: 'DB_BILLING_PASSWORD'],
    [envVar: 'DB_TESTING_CONNECTION', vaultKey: 'DB_TESTING_CONNECTION'],[envVar: 'DB_TESTING_HOST', vaultKey: 'DB_TESTING_HOST'],[envVar: 'DB_TESTING_PORT', vaultKey: 'DB_TESTING_PORT'],
    [envVar: 'DB_TESTING_DATABASE', vaultKey: 'DB_TESTING_DATABASE'],[envVar: 'DB_TESTING_USERNAME', vaultKey: 'DB_TESTING_USERNAME'],[envVar: 'DB_TESTING_PASSWORD', vaultKey: 'DB_TESTING_PASSWORD'],[envVar: 'CACHE_DRIVER', vaultKey: 'CACHE_DRIVER'],[envVar: 'MACHINE_TOKEN', vaultKey: 'MACHINE_TOKEN'],[envVar: 'QUEUE_DRIVER', vaultKey: 'QUEUE_DRIVER'],[envVar: 'FROM_EMAIL', vaultKey: 'FROM_EMAIL'],[envVar: 'MGMNT_PORTAL_URL', vaultKey: 'MGMNT_PORTAL_URL'],[envVar: 'MAIL_DRIVER', vaultKey: 'MAIL_DRIVER'],[envVar: 'MAIL_HOST', vaultKey: 'MAIL_HOST'],[envVar: 'MAIL_PORT', vaultKey: 'MAIL_PORT'],[envVar: 'MAIL_USERNAME', vaultKey: 'MAIL_USERNAME'],[envVar: 'MAIL_PASSWORD', vaultKey: 'MAIL_PASSWORD'],[envVar: 'MAIL_ENCRYPTION', vaultKey: 'MAIL_ENCRYPTION'],[envVar: 'RABBITMQ_HOST', vaultKey: 'RABBITMQ_HOST'],[envVar: 'RABBITMQ_PORT', vaultKey: 'RABBITMQ_PORT'],[envVar: 'RABBITMQ_USERNAME', vaultKey: 'RABBITMQ_USERNAME'],[envVar: 'RABBITMQ_PASSWORD', vaultKey: 'RABBITMQ_PASSWORD'],[envVar: 'RABBITMQ_VHOST', vaultKey: 'RABBITMQ_VHOST'],[envVar: 'RABBITMQ_HEARTBEAT', vaultKey: 'RABBITMQ_HEARTBEAT'],[envVar: 'APP_FULL_NAME', vaultKey: 'APP_FULL_NAME'],[envVar: 'REGISTERED', vaultKey: 'REGISTERED'],[envVar: 'APP_FULL_NAME_R', vaultKey: 'APP_FULL_NAME_R'],[envVar: 'APP_SHORT_NAME', vaultKey: 'APP_SHORT_NAME'],[envVar: 'APP_SHORT_NAME_R', vaultKey: 'APP_SHORT_NAME_R'],[envVar: 'EMAIL_HEADER_LOGO_PATH', vaultKey: 'EMAIL_HEADER_LOGO_PATH'],[envVar: 'FROM_EMAIL', vaultKey: 'FROM_EMAIL'],[envVar: 'CCM_OPERATIONS_TEAM_EMAIL', vaultKey: 'CCM_OPERATIONS_TEAM_EMAIL'],[envVar: 'FCM_SERVER_KEY', vaultKey: 'FCM_SERVER_KEY'],[envVar: 'FCM_SENDER_ID', vaultKey: 'FCM_SENDER_ID'],[envVar: 'ICAL_URL', vaultKey: 'ICAL_URL'],[envVar: 'E1_USERNAME', vaultKey: 'E1_USERNAME'],[envVar: 'E1_PASSWORD', vaultKey: 'E1_PASSWORD'],[envVar: 'PRE_SALES_EMAIL', vaultKey: 'PRE_SALES_EMAIL'],[envVar: 'DB_RIVERSAND_CONNECTION', vaultKey: 'DB_RIVERSAND_CONNECTION'],[envVar: 'DB_RIVERSAND_DRIVER', vaultKey: 'DB_RIVERSAND_DRIVER'],[envVar: 'DB_RIVERSAND_HOST', vaultKey: 'DB_RIVERSAND_HOST'],[envVar: 'DB_RIVERSAND_PORT', vaultKey: 'DB_RIVERSAND_PORT'],[envVar: 'DB_RIVERSAND_DATABASE', vaultKey: 'DB_RIVERSAND_DATABASE'],[envVar: 'DB_RIVERSAND_USERNAME', vaultKey: 'DB_RIVERSAND_USERNAME'],[envVar: 'DB_RIVERSAND_PASSWORD', vaultKey: 'DB_RIVERSAND_PASSWORD'],[envVar: 'DB_ANALYTICS_CONNECTION', vaultKey: 'DB_ANALYTICS_CONNECTION'],[envVar: 'DB_ANALYTICS_HOST', vaultKey: 'DB_ANALYTICS_HOST'],[envVar: 'DB_ANALYTICS_PORT', vaultKey: 'DB_ANALYTICS_PORT'],[envVar: 'DB_ANALYTICS_DATABASE', vaultKey: 'DB_ANALYTICS_DATABASE'],[envVar: 'DB_ANALYTICS_USERNAME', vaultKey: 'DB_ANALYTICS_USERNAME'],[envVar: 'DB_ANALYTICS_PASSWORD', vaultKey: 'DB_ANALYTICS_PASSWORD'],[envVar: 'DEFAULT_EMAIL', vaultKey: 'DEFAULT_EMAIL'],[envVar: 'UPS_USERNAME', vaultKey: 'ups_username'],[envVar: 'UPS_PASSWORD', vaultKey: 'UPS_PASSWORD'],[envVar: 'SEND_GRID_V3_API_KEY', vaultKey: 'SEND_GRID_V3_API_KEY'],[envVar: 'TEST_EMAIL_TO', vaultKey: 'TEST_EMAIL_TO'],[envVar: 'BOOMI_USERNAME', vaultKey: 'BOOMI_USERNAME'],[envVar: 'BOOMI_PASSWORD', vaultKey: 'BOOMI_PASSWORD'],[envVar: 'PAY_PAGE_ID', vaultKey: 'PAY_PAGE_ID'],[envVar: 'MERCHANT_TXN_ID', vaultKey: 'MERCHANT_TXN_ID'],[envVar: 'REPORT_GROUP', vaultKey: 'REPORT_GROUP'],[envVar: 'TIMEOUT', vaultKey: 'TIMEOUT']

    ]]
]

def configuration = [vaultUrl: 'http://172.17.0.10:8200',  vaultCredentialId: 'vault-approle', engineVersion: 2]
def list = secrets["secretValues"]
list.each { item ->
        echo "Hello ${item}"
    }
// def hey = groovy.json.JsonOutput.toJson(list)
                      
pipeline {
    agent any
    options {
        buildDiscarder(logRotator(numToKeepStr: '20'))
        disableConcurrentBuilds()
    }
    stages{   
      stage('Create File') {
        steps{
          sh "touch ${WORKSPACE}/test_variables.txt"
        }
      }
        stage('Creating Groovy List from Map'){
          steps{
		  sh "/root/.sdkman/candidates/groovy/2.3.6/bin/groovy /root/.sdkman/test | head -c -3 | tail -c +3 >> /root/.sdkman/out.txt"		   
            
          }
        }
      
}
}
